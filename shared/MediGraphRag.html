<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medical Graph RAG: Towards Safe Medical Large Language Model via Graph Retrieval-Augmented Generation</title>
    
    

    <meta property="og:url" content="https://www.managen.ai//shared/MediGraphRag.html">

    <meta property="og:title" content="Medical Graph RAG: Towards Safe Medical Large Language Model via Graph Retrieval-Augmented Generation">
    <meta property="og:description" content="[Medical Graph RAG: Towards Safe Medical Large Language Model via Graph Retrieval-Augmented Generation](https://github.com/MedicineToken/Medical-Graph-RAG)"">

    <meta property="og:type"  content="website" />
    <meta property="og:image" content="https://github.com/user-attachments/assets/c335f350-0bc4-44cb-9d76-58aad39ced44">
    <meta property="og:url" content="https://www.managen.ai//shared/MediGraphRag.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Medical Graph RAG: Towards Safe Medical Large Language Model via Graph Retrieval-Augmented Generation">
    <meta name="twitter:description" content="Medical Graph RAG: Towards Safe Medical Large Language Model via Graph Retrieval-Augmented Generation">
    <meta name="twitter:image" content="https://github.com/user-attachments/assets/c335f350-0bc4-44cb-9d76-58aad39ced44">
    <!--Import stylesheet  -->
    <link rel="stylesheet" href="../../stylesheets/share-card.css">
    <style>
        .page-url { display: block; }
        .iframe .backlink-url { display: none; }
   

     </style>
<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config",""),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-MPQ831MCNS",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
<script>var consent;"undefined"==typeof __md_analytics||(consent=__md_get("__consent"))&&consent.analytics&&__md_analytics()</script>
    <script>
       (function(d, w) {
          if (w.self !== w.top) {
             d.className += " iframe";
          }
       }(document.documentElement, window));

        window.onload = function() {
            var links = document.getElementsByTagName('a');
            for (var i = 0; i < links.length; i++) {
                links[i].target = '_blank';
            }
        };
        function copyToClipboard(elementId) {
            var url = document.getElementById(elementId).href;
            navigator.clipboard.writeText(url).then(function() {
                // Show copied popup
                var popup = document.getElementById("copied-popup");
                popup.classList.add("show");

                // Hide popup after 2 seconds
                setTimeout(function() { popup.classList.remove("show"); }, 2000);
            }, function(err) {
                console.error('Could not copy text: ', err);
            });
        }
    </script>
</head>
<body>
    
    <div class="blog-content">
        <h1><p><a href="https://github.com/MedicineToken/Medical-Graph-RAG">Medical Graph RAG: Towards Safe Medical Large Language Model via Graph Retrieval-Augmented Generation</a></p></h1>
        <p><img width="879" alt="image" src="https://github.com/user-attachments/assets/c335f350-0bc4-44cb-9d76-58aad39ced44">
<strong>Developments:</strong> The authors <a href="https://arxiv.org/pdf/2408.04187">devlope</a> a powerful graph-rag based system called MediGraphRag for medical discustions reaching SOTA results. They do so, they most notably introduce 'Triple Graph Construction'. </p>
<ol>
<li>Dynamically selected chunk partitioning. </li>
<li>Entity extraction using structured output of <em>name</em>, <em>type</em>, and a <em>context</em> in how it mattered. </li>
<li>Perform Triple Link construction</li>
</ol>
<p><strong>Graph Construction: 'Triple Link'</strong> 
They create a Triple link Repository Graph (RepoGraph). They create three graphs:</p>
<p>Involving the creation of several graph layers.  </p>
<ol>
<li><strong>Medical papers/books</strong></li>
<li><strong>Medical Dictionaries</strong></li>
<li><strong>UMLS</strong> made of well-defined medical vocabularies and their relationships. </li>
</ol>
<p>They link the entities that are extracted from medical books/papers as E2, based on their relevance, then they use to compute cosine similarity. They then create a relation as a consise phrase based on on the entity, and associated references. </p>
<p>Next, they tag the graphs strting with some pre-defined tags, and iteratively generate more tag summaries, for closely-related graphs. These tags have multiple categories. Language models then tag the system using a prompts akin to the following</p>
<p><div class="highlight"><pre><span></span><code>Generate a structured summary from the provided medical content,
strictly adhering to the following categories... {Tag
Name: Description of the tag}... .
</code></pre></div>
Their other well constructed prompts can be found <a href="https://github.com/MedicineToken/Medical-Graph-RAG/blob/main/nano_graphrag/prompt.py">here</a></p>
<p>They then iterate using heirarchichal clustering based on tag similarity to group the graphs and generate synthesized tag summaries, with each graph having it's own groups. They try to merge the top 20% of most similar pairs, and merge them if the pairwise similarities cross a specified threshold. </p>
<p><strong>Retrieval</strong>
To do retrieval, they generate tags based on the query Q, and then, generally, find similar tabs and reconstruct a prompt that includes the concatenated entity names and relationships: </p>
<p><div class="highlight"><pre><span></span><code>Given QUESTION:
    {Q}. GRAPH: {ei
    [na]+Re
    j
    ei
    +ej [na], ...}. Answer
    the user question: QUESTION using the graph:
    GRAPH... 
</code></pre></div>
<img width="914" alt="image" src="https://github.com/user-attachments/assets/18e7f6e6-47c3-4c0c-9b4b-992564d3165b"></p>
    </div>
    <a href="https://www.managen.ai//shared/MediGraphRag.html" class="page-url" id="page-url"></a>
    <!-- Clipboard copy icon/button -->
    <span class="copy-icon" id="copy-icon" class="h3" onclick="copyToClipboard('page-url' )">Share link! &#128203; </span>
    <!-- Copied popup -->
    <div class="copied-popup" id="copied-popup">Link copied!</div>
    <a href="https://www.managen.ai//Using/examples/by_field/technology/healthcare.html" class="backlink-url" id="backlink-url">See the main site!</a>
</body>
</html>
